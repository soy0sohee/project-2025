<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>문자열을 배열로 취급</title>
    <script>
      // 문자열도 내부적으로 배열의 구조를 가지고 있음
      // 배열처럼 인덱스와 길이가 있음
      let str = "hello";
      console.log(str, str.length);
      console.log(str[0]);
      // 문자열 순회
      for (let i = 0; i < str.length; i++) {
        console.log(str[i]);
      }
      // 문자(character)가 복수로 모이면, 문자열(string)이다.
      // 문자 인코딩표(유니코드표) : 글자를 숫자로 정리한 표
      // 유니코드 첫 페이지는 아스키코드(키보드 자판 문자 + 특수 기호)
      // 한글은 0xAC00 부터 '가'...
      // 숫자 : 48 / 0x30 / 0 ~ 57 / 0x39 / 9
      // 영문[대문자] : 48 / 0x30 / 0 ~ 57 / 0x39 / 9
      // 영문[소문자] : 48 / 0x30 / 0 ~ 57 / 0x39 / 9

      // 문자(열)을 아스키코드 값(숫자)로 바꾸기 : 파이썬 ord("A")
      console.log("A".charCodeAt(0)); // 65
      console.log("Z".charCodeAt(0)); // 90
      console.log("a".charCodeAt(0)); // 97
      console.log("z".charCodeAt(0)); // 122
      console.log("0".charCodeAt(0)); // 48
      console.log("9".charCodeAt(0)); // 57

      // 숫자(아스키코드 값)를 문자(열)로 바꾸기 : 파이썬 chr(65)
      console.log(String.fromCharCode(65)); // "A"

      // 연습문제
      // 1. "G"라는 문자(열)가 대문자인지 여부를 T/F로 출력하시오.
      let large = 0;
      let small = 0;
      let num = 0;
      let a_large = 0;
      let a_small = 0;
      let a_num = 0;

      str = "G";
      for (large = 65; large <= 90; large++) {
        a_large = String.fromCharCode(large);
        // console.log(str);
        // console.log(a_large);
        if (str === a_large) {
          break;
        }
      }
      if (str === a_large) {
        document.write("G은 대문자 입니다. </br>");
      } else {
        document.write("G은 대문자가 아닙니다. </br>");
      }

      if (
        "A".charCodeAt(0) <= "G".charCodeAt(0) &&
        "G".charCodeAt(0) <= "Z".charCodeAt(0)
      ) {
        document.write("T </br>");
      } else {
        document.write("F </br>");
      }

      // 2. "hello"라는 문자(열)을 "HELLO"로 바꾸어 출력하시오.
      str = "hello";
      a_small = 0;
      a_large = 0;
      for (let i = 0; i <= str.length; i++) {
        // console.log(str[i]);
        for (let j = 0; j < 25; j++) {
          a_small = String.fromCharCode(j + 97);
          a_large = String.fromCharCode(j + 65);
          // console.log(a_small);
          // console.log(a_large);
          if (str[i] === a_small) {
            document.write(a_large);
          }
        }
      }

      let hello = "hello";
      let HELLO = "";
      for (let i = 0; i < hello.length; i++) {
        HELLO += String.fromCharCode(hello[i].charCodeAt(0) - 32);
      }
      console.log(HELLO);

      // 3. "7" 문자(열)을 숫자 7로 바꾸시오

      // 문자열을 배열로 가져오기
      let arrStr1 = Array.from("hello");
      arrStr1[2] = "D";
      console.log(arrStr1, typeof arrStr1);

      let arrStr2 = Array.of("hello");
      arrStr2[1] = "D";
      console.log(arrStr2);

      // 구분자로 문자열 분리 후 배열로 만들기
      let arrStr3 = "apple, banana, ornage".split(",");
      arrStr3[1] = "D";
      console.log(arrStr3);
      let arrStr4 = "apple banana ornage".split(" ");
      console.log(arrStr4);
      let arrStr5 = "apple".split("");
      arrStr5[2] = "D";
      console.log(arrStr5, typeof arrStr5);

      // 전개연산자
      let arrStr6 = [..."apple"];
      console.log(arrStr6);

      // spring 문자열 타입의 원본은 바뀌지않고,
      // 인덱스에 넣은 값이 바뀐 것
      let arrStr7 = "apple";
      arrStr7[2] = "D";
      console.log(arrStr7, typeof arrStr7);

      // 유사 배열 : 문자열, 집합, 매핑함수
      let arr8 = Array.from("hello");
      console.log(arr8);

      // 집합
      let arr9 = Array.from(new Set([1, 2, 3]));
      console.log(arr9);

      // 매핑 함수
      let arr10 = Array.from([1, 2, 3], (x) => x * 2);
      console.log(arr10);
    </script>
  </head>
  <body></body>
</html>
