<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>연습문제</title>
    <script>
      // 1번
      // 출력결과 :  ["Alice", "Bob", "Charlie"]
      // 각 사용자의 이름만 추출한 배열을 생성하세요.
      const users = [
        { id: 1, name: "Alice", age: 25 },
        { id: 2, name: "Bob", age: 30 },
        { id: 3, name: "Charlie", age: 35 },
      ];
      const user = users.map((item, index, array) => {
        console.log(item.name);
        const result = [item.name];
        return result;
      });
      document.write("1번 ", user, "</br>");

      // 2번
      // 출력결과 : [110, 220, 330]
      // 각 가격에 10%의 세금을 추가한 배열을 생성하세요.
      const prices = [100, 200, 300];
      const price = prices.map((item, index, array) => {
        console.log(item);
        const result = [item * 0.1];
        return result;
      });
      document.write("2번 ", price, "</br>");

      // 3번
      // 출력결과 : [1, 4, 9, 16, 25, 36, 49, 64, 81]
      // 힌트 : map함수 안에서 map함수 사용하기 + reduce함수
      // 각 숫자를 제곱한 1차원 배열을 만드세요.
      const matrix = [
        [1, 2, 3],
        [4, 5, 6],
        [7, 8, 9],
      ];
      // reduce()함수 평탄화
      let squared = matrix.map((item, index, array) => {
        console.log(item);
        let arr = item.map((item, index, array) => {
          return item * item;
        });
        return arr;
      });
      console.log(squared);
      const result = squared.reduce((acc, cur, index, array) => {
        return acc.concat(cur);
      }, []);
      console.log(result);

      // flat()함수 평탄화
      let squared1 = matrix
        .map((item, index, array) => {
          return item.map((item, index, array) => {
            return item * item;
          });
        })
        .flat();
      console.log(squared1);

      // 4번
      // 출력결과 : [{ id: 1, total: 60 }, { id: 2, total: 20 }, { id: 3, total: 300 }]
      // map함수 안에서 reduce함수 사용하는 문제
      // 각 주문의 ID와 총액(total)을 포함하는 배열을 만드세요.
      const orders = [
        { id: 1, items: [10, 20, 30] },
        { id: 2, items: [5, 15] },
        { id: 3, items: [100, 200] },
      ];
      const order = orders.map((item, index, array) => {
        console.log(item.items);

        const sum = item.items.reduce((acc, cur, index, array) => {
          return acc + cur;
        });
        return {
          id: item.id,
          total: sum,
        };
      });
      delete orders.items;
      orders.items ??= order;
      console.log("4번 ", orders);
      console.log("4번 ", order);

      // 5번
      // 출력예) 2
      // reduce 문을 사용한 연습문제
      // reduce 함수를 이용하여, 35보다 큰 숫자의 갯수를 출력하시오.
      const nums = [10, 20, 30, 40, 50];
      let count = 0;
      const num = nums.reduce((acc, cur, index, array) => {
        if (cur > 35 == true) {
          count++;
        }
        // console.log(acc, cur, count);
        return count;
      }, 0);
      document.write("5번 ", num, "</br>");

      // 6번
      // 출력예) [4,3,5]
      // 2.reduce 함수를 이용하여, 배열의 문자열 길이를 구하시오.
      const strings = ["hong", "lee", "imdan"];
      // const string = strings.map((item, index, array) => {
      //   console.log(item.length);
      //   return item.length;
      // });
      let result2 = [];
      const str = strings.reduce((acc, cur, index, array) => {
        console.log(acc, cur);
        const num = cur.length;
        result2.push(num);
        return result2;
      }, []);
      console.log(str);

      document.write("6번 ", str, "</br>");
    </script>
  </head>
  <body></body>
</html>
